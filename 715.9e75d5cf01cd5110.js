"use strict";(self.webpackChunkproyectoFinal=self.webpackChunkproyectoFinal||[]).push([[715],{5715:(qe,b,r)=>{r.r(b),r.d(b,{ViajeAdminModule:()=>Ve});var u=r(6895),Z=r(904),c=r(4006);class A{constructor(a,t,i,n,l,d){this.id=a,this.lugarSalida=t,this.lugarDestino=i,this.fechaLlegada=new Date(n),this.fechaSalida=new Date(l),this.idCole=d}}var s=r(5412),y=r(3406),e=r(4650),f=r(9299),g=r(262),h=r(2843),F=r(8181),q=r(529);let C=(()=>{class o{constructor(t){this.http=t,this.resourceUrl=F.N.backendUrl+"viajes"}findAll(){return this.http.get(this.resourceUrl,{observe:"response"}).pipe((0,g.K)(t=>(console.log("Ocurri\xf3 un error:"),console.log(t),(0,h._)(()=>"Paso algo"))))}findOne(t){return this.http.get(this.resourceUrl+"/"+t,{observe:"response"}).pipe((0,g.K)(i=>(console.log("Ocurri\xf3 un error:"),console.log(i),(0,h._)(()=>"No existe viaje con ese ID"))))}modifViaje(t){return this.http.put(this.resourceUrl+"/"+t.id,t).pipe((0,g.K)(i=>(console.log("Ocurri\xf3 un error:"),console.log(i),(0,h._)(()=>"No se pudo modificar viaje"))))}crearViaje(t){return this.http.post(this.resourceUrl,t).pipe((0,g.K)(i=>(console.log("Ocurrio un error: "),console.log(i),(0,h._)(()=>"No se pudo crear viaje"))))}borrar(t){return this.http.delete(this.resourceUrl+"/"+t,{observe:"response"}).pipe((0,g.K)(i=>(console.log("Ocurrio un error: "),console.log(i),(0,h._)(()=>"No existe ese viaje"))))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(q.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var U=r(4345),V=r(253),p=r(4859),m=r(7155),v=r(7392),M=r(7009);function Y(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1,"ID"),e.qZA())}function L(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.Oqu(t.id)}}function O(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1,"Origen"),e.qZA())}function N(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.Oqu(t.lugarSalida)}}function P(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1,"Destino"),e.qZA())}function D(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.Oqu(t.lugarDestino)}}function I(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1,"Fecha Salida"),e.qZA())}function J(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.fechaSalida,"d/M/yy - h:mm a"))}}function k(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1,"Fecha Llegada"),e.qZA())}function Q(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.fechaLlegada,"d/M/yy - h:mm a"))}}function w(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1,"Colectivo"),e.qZA())}function B(o,a){if(1&o&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.Oqu(null==t.colectivo?null:t.colectivo.patente)}}function E(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1,"Pasajeros"),e.qZA())}function z(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"td",18)(1,"button",19),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.dialogoPasajeros(d.obtenerPersonas(l.pasajeros)))}),e._uU(2," Ver pasajeros "),e.qZA()()}}function R(o,a){1&o&&(e.TgZ(0,"th",17),e._uU(1,"Editar / Eliminar"),e.qZA())}function H(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"td",18)(1,"button",20),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.modificar(l))}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()(),e.TgZ(4,"button",21),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.dialogoEliminar(l))}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA()()()}}function $(o,a){1&o&&e._UZ(0,"tr",22)}function K(o,a){1&o&&e._UZ(0,"tr",23)}const x=".header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.titulo[_ngcontent-%COMP%]{color:#131263}.mat-column-id[_ngcontent-%COMP%], .mat-column-origen[_ngcontent-%COMP%], .mat-column-destino[_ngcontent-%COMP%], .mat-column-fechaSalida[_ngcontent-%COMP%], .mat-column-fechaLlegada[_ngcontent-%COMP%], .mat-column-colectivo[_ngcontent-%COMP%], .mat-column-pasajeros[_ngcontent-%COMP%], .mat-column-acciones[_ngcontent-%COMP%]{text-align:center}.mat-column-id[_ngcontent-%COMP%]{border-right:1px solid currentColor;width:0;font-size:small;padding:0 10px 0 5px}.dialogo-e[_ngcontent-%COMP%]{border:1px solid #630a03;background-color:#f2e4e2;border-radius:5px}.dialog-header-e[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.dialog-icon-e[_ngcontent-%COMP%]{font-size:350%;margin-top:20px;height:max-content;width:max-content}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.fila[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin:auto}.col1[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:5px}.col2[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:1em;gap:5px}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.dialogo-p[_ngcontent-%COMP%]{border:1px solid #060535;background-color:#e3e3ec;border-radius:5px}.dialog-header-p[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.dialog-icon-p[_ngcontent-%COMP%]{font-size:200%;margin:15px 3px 0 20px;height:max-content;width:max-content}.ul[_ngcontent-%COMP%]{list-style:none;font-style:italic}.dialog-title[_ngcontent-%COMP%]{padding:0 20px 5px 2px}";function G(o,a){if(1&o&&(e.TgZ(0,"ul",7)(1,"li"),e._uU(2),e.qZA()()),2&o){const t=a.$implicit;e.xp6(2),e.AsE("",t.nombre," ",t.apellido,"")}}let W=(()=>{class o{constructor(t,i,n,l,d){this.router=t,this.viajeService=i,this.colectivoService=n,this.personaService=l,this.dialog=d,this.pasajerosList=[],this.displayedColumns=["id","origen","destino","fechaLlegada","fechaSalida","colectivo","pasajeros","acciones"],this.dataSource=[]}ngOnInit(){this.cargar()}cargar(){this.viajeService.findAll().subscribe(t=>{this.dataSource=t.body?.map(i=>{const n=new A(i.id,i.lugarSalida,i.lugarDestino,i.fechaSalida,i.fechaLlegada,i.idColectivo);return n.pasajeros=i.personaId,this.findColectivo(n),n})}),this.personaService.findAll().subscribe(t=>{this.pasajerosList=t.body?.map(i=>new y.I(i.id,i.age,i.name,i.lastName))})}findColectivo(t){this.colectivoService.findOne(t.idCole).subscribe(i=>{t.colectivo=i.body})}crear(){this.router.navigate(["layout","viajes","crear"])}modificar(t){this.router.navigate(["layout","viajes","modif",t.id])}obtenerPersonas(t){let i=[];for(var n of t)this.pasajerosList.map(l=>{l.id==n&&i.push(l)});return i}dialogoPasajeros(t){this.dialog.open(ee,{data:t})}dialogoEliminar(t){this.dialog.open(X,{data:{id:t.id,lugarDestino:t.lugarDestino,lugarSalida:t.lugarSalida,fechaLlegada:t.fechaLlegada,fechaSalida:t.fechaSalida,colectivo:t.colectivo.patente},exitAnimationDuration:"1000ms"}).afterClosed().subscribe(n=>{this.cargar()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.F0),e.Y36(C),e.Y36(U.B),e.Y36(V.J),e.Y36(s.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-viaje-list"]],decls:35,vars:3,consts:[[1,"animate__animated","animate__fadeIn"],[1,"header"],[1,"titulo"],["mat-flat-button","","color","accent",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","origen"],["matColumnDef","destino"],["matColumnDef","fechaSalida"],["matColumnDef","fechaLlegada"],["matColumnDef","colectivo"],["matColumnDef","pasajeros"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-stroked-button","","color","accent",3,"click"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Listado de Viajes"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return i.crear()}),e.TgZ(5,"mat-icon"),e._uU(6,"add"),e.qZA(),e._uU(7,"Nuevo Viaje "),e.qZA()(),e.TgZ(8,"table",4),e.ynx(9,5),e.YNc(10,Y,2,0,"th",6),e.YNc(11,L,2,1,"td",7),e.BQk(),e.ynx(12,8),e.YNc(13,O,2,0,"th",6),e.YNc(14,N,2,1,"td",7),e.BQk(),e.ynx(15,9),e.YNc(16,P,2,0,"th",6),e.YNc(17,D,2,1,"td",7),e.BQk(),e.ynx(18,10),e.YNc(19,I,2,0,"th",6),e.YNc(20,J,3,4,"td",7),e.BQk(),e.ynx(21,11),e.YNc(22,k,2,0,"th",6),e.YNc(23,Q,3,4,"td",7),e.BQk(),e.ynx(24,12),e.YNc(25,w,2,0,"th",6),e.YNc(26,B,2,1,"td",7),e.BQk(),e.ynx(27,13),e.YNc(28,E,2,0,"th",6),e.YNc(29,z,3,0,"td",7),e.BQk(),e.ynx(30,14),e.YNc(31,R,2,0,"th",6),e.YNc(32,H,7,0,"td",7),e.BQk(),e.YNc(33,$,1,0,"tr",15),e.YNc(34,K,1,0,"tr",16),e.qZA()()),2&t&&(e.xp6(8),e.Q6J("dataSource",i.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[p.lW,p.RK,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,v.Hw,u.uU],styles:[x]}),o})(),X=(()=>{class o{constructor(t,i,n,l){this.dialogRef=t,this.data=i,this.viajeService=n,this.snackBar=l}eliminarViaje(t){this.viajeService.borrar(t.id).subscribe(i=>{this.snackBar.open("Viaje eliminado","Cerrar",{horizontalPosition:"center",verticalPosition:"top",duration:2500})},i=>{console.log(i),this.snackBar.open(i,"Cerrar")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.so),e.Y36(s.WI),e.Y36(C),e.Y36(M.ux))},o.\u0275cmp=e.Xpm({type:o,selectors:[["dialogo-eliminar"]],standalone:!0,features:[e.jDz],decls:32,vars:4,consts:[[1,"dialogo-e"],[1,"dialog-header-e"],["color","warn",1,"dialog-icon-e"],["mat-dialog-title",""],["mat-dialog-content","",1,"dialog-content"],[1,"fila"],[1,"col1"],[1,"col2"],["mat-dialog-actions","",1,"dialog-actions"],["mat-raised-button","","mat-dialog-close","","cdkFocusInitial",""],["mat-raised-button","","mat-dialog-close","","color","warn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),e._uU(3,"warning"),e.qZA(),e.TgZ(4,"h1",3)(5,"b"),e._uU(6,"\xbfEst\xe1 seguro/a de querer eliminar este viaje?"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"span"),e._uU(11,"ID:"),e.qZA(),e.TgZ(12,"span"),e._uU(13,"Hasta:"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Desde:"),e.qZA(),e.TgZ(16,"span"),e._uU(17,"Patente:"),e.qZA()(),e.TgZ(18,"div",7)(19,"span"),e._uU(20),e.qZA(),e.TgZ(21,"span"),e._uU(22),e.qZA(),e.TgZ(23,"span"),e._uU(24),e.qZA(),e.TgZ(25,"span"),e._uU(26),e.qZA()()()(),e.TgZ(27,"div",8)(28,"button",9),e._uU(29,"Atr\xe1s"),e.qZA(),e.TgZ(30,"button",10),e.NdJ("click",function(){return i.eliminarViaje(i.data)}),e._uU(31,"Eliminar"),e.qZA()()()),2&t&&(e.xp6(20),e.Oqu(i.data.id),e.xp6(2),e.Oqu(i.data.lugarDestino),e.xp6(2),e.Oqu(i.data.lugarSalida),e.xp6(2),e.Oqu(i.data.colectivo))},dependencies:[c.u5,Z.q,p.lW,v.Hw,s.ZT,s.uh,s.xY,s.H8],styles:[x]}),o})(),ee=(()=>{class o{constructor(t,i){this.dialogRef=t,this.data=i}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.so),e.Y36(s.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["dialogo-pasajeros"]],standalone:!0,features:[e.jDz],decls:11,vars:1,consts:[[1,"dialogo-p"],[1,"dialog-header-p"],[1,"dialog-icon-p"],["mat-dialog-title","",1,"dialog-title"],["class","ul",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-raised-button","","mat-dialog-close",""],[1,"ul"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),e._uU(3,"groups"),e.qZA(),e.TgZ(4,"h1",3)(5,"b"),e._uU(6,"Lista de pasajeros:"),e.qZA()()(),e.YNc(7,G,3,2,"ul",4),e.TgZ(8,"div",5)(9,"button",6),e._uU(10,"Atr\xe1s"),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngForOf",i.data))},dependencies:[c.u5,Z.q,p.lW,v.Hw,s.ZT,s.uh,s.H8,u.ez,u.sg],styles:[x]}),o})();var te=r(1741),oe=r(4541),ie=r(9921),_=r(3546),j=r(9549),ae=r(4144),ne=r(4850),re=r(4385),le=r(3238),T=r(9602);function ce(o,a){1&o&&(e.TgZ(0,"h2",18),e._uU(1,"Editando Viaje"),e.qZA())}function se(o,a){1&o&&(e.TgZ(0,"h2",18),e._uU(1,"Creando Viaje"),e.qZA())}function de(o,a){1&o&&(e.TgZ(0,"mat-hint",20),e._UZ(1,"mat-divider"),e._uU(2," El lugar de origen es Requerido "),e.qZA())}function me(o,a){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,de,3,0,"mat-hint",19),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.viajeForm&&t.viajeForm.controls&&t.viajeForm.controls.origen.errors)}}function ue(o,a){1&o&&(e.TgZ(0,"mat-hint",20),e._UZ(1,"mat-divider"),e._uU(2," El lugar de destino es Requerido "),e.qZA())}function pe(o,a){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,ue,3,0,"mat-hint",19),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.viajeForm&&t.viajeForm.controls&&t.viajeForm.controls.destino.errors)}}function fe(o,a){1&o&&(e.TgZ(0,"mat-hint",20),e._UZ(1,"mat-divider"),e._uU(2," La fecha de salida es Requerida "),e.qZA())}function ge(o,a){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,fe,3,0,"mat-hint",19),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.viajeForm&&t.viajeForm.controls&&t.viajeForm.controls.fechaSalida.errors)}}function he(o,a){1&o&&(e.TgZ(0,"mat-hint",20),e._UZ(1,"mat-divider"),e._uU(2," La fecha de llegada es Requerida "),e.qZA())}function ve(o,a){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,he,3,0,"mat-hint",19),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.viajeForm&&t.viajeForm.controls&&t.viajeForm.controls.fechaLlegada.errors)}}function _e(o,a){if(1&o&&(e.TgZ(0,"mat-option",21),e._uU(1),e.qZA()),2&o){const t=a.$implicit,i=e.oxw();e.Q6J("value",t.id),e.xp6(1),e.hij(" ",i.getColectivo(t)," ")}}function je(o,a){1&o&&(e.TgZ(0,"mat-hint",20),e._UZ(1,"mat-divider"),e._uU(2," Seleccione un colectivo "),e.qZA())}function Ze(o,a){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,je,3,0,"mat-hint",19),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.viajeForm&&t.viajeForm.controls&&t.viajeForm.controls.colectivo.errors)}}function Ce(o,a){if(1&o&&(e.TgZ(0,"mat-option",21),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",t.nombre," ",t.apellido," ")}}function xe(o,a){1&o&&(e.TgZ(0,"mat-hint",20),e._UZ(1,"mat-divider"),e._uU(2," Seleccione minimo un pasajero "),e.qZA())}function Te(o,a){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,xe,3,0,"mat-hint",19),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.viajeForm&&t.viajeForm.controls&&t.viajeForm.controls.pasajeros.errors&&t.viajeForm.controls.pasajeros.errors.required)}}function be(o,a){if(1&o&&(e.TgZ(0,"mat-card-actions")(1,"button",22),e._uU(2," Crear Viaje "),e.qZA()()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.viajeForm.invalid)}}function Ae(o,a){if(1&o&&(e.TgZ(0,"mat-card-actions")(1,"button",22),e._uU(2," Guardar Cambios "),e.qZA()()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.viajeForm.invalid)}}let S=(()=>{class o{constructor(t,i,n,l,d,Me,Se,Fe){this.fb=t,this.route=i,this.router=n,this.viajeService=l,this.coleService=d,this.modeloService=Me,this.personService=Se,this.snackBar=Fe,this.nuevo=!0,this.viajeForm=this.fb.group({origen:["",c.kI.required],destino:["",c.kI.required],fechaSalida:[new Date,c.kI.required],fechaLlegada:[new Date,c.kI.required],colectivo:[0,c.kI.required],pasajeros:[[],c.kI.required]}),this.coleList=[],this.listaPersonas=[],this.viajeSeleccionado=null,this.modeloSeleccionado=null}ngOnInit(){this.route.paramMap.subscribe(t=>{const i=t.get("id");i&&(this.findViaje(Number(i)),this.nuevo=!1)}),this.coleService.findAll().subscribe(t=>{this.coleList=t.body.map(i=>{const n=new te._(i.id,i.patente,i.cantidadAsientos,i.modeloId);return this.findModeloColectivo(n),n})},t=>{console.log(t),this.snackBar.open(t,"Cerrar",{horizontalPosition:"center",verticalPosition:"top"})}),this.personService.findAll().subscribe(t=>{this.listaPersonas=t.body?.map(i=>new y.I(i.id,i.age,i.name,i.lastName))})}getColectivo(t){return t.patente+" - "+t.cantidadAsientos+" - "+t.modelo?.marca}findViaje(t){this.viajeService.findOne(t).subscribe(i=>{i.body&&(this.viajeSeleccionado=new A(i.body.id,i.body.lugarSalida,i.body.lugarDestino,i.body.fechaLlegada,i.body.fechaSalida,i.body.idColectivo),this.viajeSeleccionado.pasajeros=i.body.personaId,this.viajeForm.patchValue({id:this.viajeSeleccionado.id,origen:this.viajeSeleccionado.lugarSalida,destino:this.viajeSeleccionado.lugarDestino,fechaSalida:this.viajeSeleccionado.fechaSalida,fechaLlegada:this.viajeSeleccionado.fechaLlegada,colectivo:this.viajeSeleccionado.idCole,pasajeros:this.viajeSeleccionado.pasajeros}))},i=>{console.log(i),this.snackBar.open(i,"Cerrar"),this.router.navigate(["layout","viajes","lista"])})}findModeloColectivo(t){this.modeloService.findOne(t.modeloId).subscribe(i=>{i.body&&(t.modelo=new oe.Z(i.body.id,i.body.nombre,i.body.marca))})}volver(){this.router.navigate(["layout","viajes","lista"])}guardarCambios(){const t=this.viajeForm.get("pasajeros").value,i={id:null,lugarSalida:this.viajeForm.get("origen")?.value,lugarDestino:this.viajeForm.get("destino")?.value,fechaLlegada:this.viajeForm.get("fechaLlegada")?.value,fechaSalida:this.viajeForm.get("fechaSalida")?.value,idColectivo:this.viajeForm.get("colectivo")?.value,personaId:t};this.nuevo?this.viajeService.crearViaje(i).subscribe(n=>{this.snackBar.open("Viaje creado exitosamente!","Cerrar",{horizontalPosition:"center",verticalPosition:"top",duration:2500}),this.router.navigate(["layout","viajes","lista"])},n=>{console.log(n),this.snackBar.open(n,"Cerrar")}):(i.id=this.viajeSeleccionado.id,this.viajeService.modifViaje(i).subscribe(n=>{this.snackBar.open("Cambios guardados!","Cerrar",{horizontalPosition:"center",verticalPosition:"top",duration:2500}),this.router.navigate(["layout","viajes","lista"])},n=>{console.log(n),this.snackBar.open(n,"Cerrar")}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.qu),e.Y36(f.gz),e.Y36(f.F0),e.Y36(C),e.Y36(U.B),e.Y36(ie.y),e.Y36(V.J),e.Y36(M.ux))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-viaje-modif"]],decls:57,vars:17,consts:[[1,"card","animate__animated","animate__fadeIn"],[1,"title"],["type","button","mat-icon-button","",1,"back",3,"click"],["class","titulo",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-field"],["matInput","","type","text","formControlName","origen"],[4,"ngIf"],["matInput","","type","text","formControlName","destino"],["matInput","","formControlName","fechaSalida",3,"matDatepicker"],["matIconSuffix","",3,"for"],["pickerSalida",""],["matInput","","type","text"],["matInput","","formControlName","fechaLlegada",3,"matDatepicker"],["pickerLegada",""],["formControlName","colectivo"],[3,"value",4,"ngFor","ngForOf"],["formControlName","pasajeros","multiple",""],[1,"titulo"],["class","hint",4,"ngIf"],[1,"hint"],[3,"value"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"button",2),e.NdJ("click",function(){return i.volver()}),e.TgZ(3,"mat-icon"),e._uU(4,"arrow_back"),e.qZA()(),e.YNc(5,ce,2,0,"h2",3),e.YNc(6,se,2,0,"h2",3),e.qZA(),e.TgZ(7,"mat-card-content")(8,"form",4),e.NdJ("ngSubmit",function(){return i.guardarCambios()}),e.TgZ(9,"mat-form-field",5)(10,"mat-label"),e._uU(11,"Origen: "),e.qZA(),e._UZ(12,"input",6),e.YNc(13,me,2,1,"div",7),e.qZA(),e.TgZ(14,"mat-form-field",5)(15,"mat-label"),e._uU(16,"Destino: "),e.qZA(),e._UZ(17,"input",8),e.YNc(18,pe,2,1,"div",7),e.qZA(),e.TgZ(19,"mat-form-field",5)(20,"mat-label"),e._uU(21,"Fecha de Salida: "),e.qZA(),e._UZ(22,"input",9),e.TgZ(23,"mat-hint"),e._uU(24,"d/M/YY"),e.qZA(),e._UZ(25,"mat-datepicker-toggle",10)(26,"mat-datepicker",null,11)(28,"input",12),e.YNc(29,ge,2,1,"div",7),e.qZA(),e.TgZ(30,"mat-form-field",5)(31,"mat-label"),e._uU(32,"Fecha de Llegada: "),e.qZA(),e._UZ(33,"input",13),e.TgZ(34,"mat-hint"),e._uU(35,"d/M/YY"),e.qZA(),e._UZ(36,"mat-datepicker-toggle",10)(37,"mat-datepicker",null,14)(39,"input",12),e.YNc(40,ve,2,1,"div",7),e.qZA(),e.TgZ(41,"mat-form-field",5)(42,"mat-label"),e._uU(43,"Colectivo:"),e.qZA(),e.TgZ(44,"mat-select",15),e.YNc(45,_e,2,2,"mat-option",16),e.qZA(),e.YNc(46,Ze,2,1,"div",7),e.qZA(),e.TgZ(47,"mat-form-field",5)(48,"mat-label"),e._uU(49,"Pasajeros:"),e.qZA(),e.TgZ(50,"mat-select",17)(51,"mat-option"),e._uU(52," - "),e.qZA(),e.YNc(53,Ce,2,3,"mat-option",16),e.qZA(),e.YNc(54,Te,2,1,"div",7),e.qZA(),e.YNc(55,be,3,1,"mat-card-actions",7),e.YNc(56,Ae,3,1,"mat-card-actions",7),e.qZA()()()),2&t){const n=e.MAs(27),l=e.MAs(38);e.xp6(5),e.Q6J("ngIf",!i.nuevo),e.xp6(1),e.Q6J("ngIf",i.nuevo),e.xp6(2),e.Q6J("formGroup",i.viajeForm),e.xp6(5),e.Q6J("ngIf",i.viajeForm.controls.origen.invalid&&(i.viajeForm.controls.origen.dirty||i.viajeForm.controls.origen.touched)),e.xp6(5),e.Q6J("ngIf",i.viajeForm.controls.destino.invalid&&(i.viajeForm.controls.destino.dirty||i.viajeForm.controls.destino.touched)),e.xp6(4),e.Q6J("matDatepicker",n),e.xp6(3),e.Q6J("for",n),e.xp6(4),e.Q6J("ngIf",i.viajeForm.controls.fechaSalida.invalid&&(i.viajeForm.controls.fechaSalida.dirty||i.viajeForm.controls.fechaSalida.touched)),e.xp6(4),e.Q6J("matDatepicker",l),e.xp6(3),e.Q6J("for",l),e.xp6(4),e.Q6J("ngIf",i.viajeForm.controls.fechaLlegada.invalid&&(i.viajeForm.controls.fechaLlegada.dirty||i.viajeForm.controls.fechaLlegada.touched)),e.xp6(5),e.Q6J("ngForOf",i.coleList),e.xp6(1),e.Q6J("ngIf",i.viajeForm.controls.colectivo.invalid&&(i.viajeForm.controls.colectivo.dirty||i.viajeForm.controls.colectivo.touched)),e.xp6(7),e.Q6J("ngForOf",i.listaPersonas),e.xp6(1),e.Q6J("ngIf",i.viajeForm.controls.pasajeros.invalid&&(i.viajeForm.controls.pasajeros.dirty||i.viajeForm.controls.pasajeros.touched)),e.xp6(1),e.Q6J("ngIf",i.nuevo),e.xp6(1),e.Q6J("ngIf",!i.nuevo)}},dependencies:[u.sg,u.O5,_.a8,_.hq,_.dn,_.dk,p.lW,p.RK,j.KE,j.hX,j.bx,j.R9,ae.Nt,ne.d,v.Hw,re.gD,le.ey,T.Mq,T.hl,T.nW,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],styles:[".card[_ngcontent-%COMP%]{display:flex;background-color:#869a9e;margin:1em auto;width:80%;flex-direction:column;border:1px solid #03151a;border-radius:15px}.title[_ngcontent-%COMP%]{display:flex;margin-bottom:25px}.back[_ngcontent-%COMP%]{align-self:center;position:absolute;color:#131263}.back[_ngcontent-%COMP%]:hover{background-color:#8989b1;color:#000}.titulo[_ngcontent-%COMP%]{margin:auto;color:#131263}form[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.form-field[_ngcontent-%COMP%]{display:flex;width:80%}.hint[_ngcontent-%COMP%]{color:red;font-size:small}"]}),o})();const ye=[{path:"lista",component:W},{path:"modif/:id",component:S},{path:"crear",component:S},{path:"",redirectTo:"lista",pathMatch:"full"}];let Ue=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.ez,f.Bz.forChild(ye),f.Bz]}),o})(),Ve=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.ez,Z.q,Ue,c.u5,c.UX]}),o})()}}]);